{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Codex Edit Current File",
			"type": "shell",
			"command": "codex edit ${file}"
		},
		{
			"label": "Quick Test Run",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"pytest",
				"-q",
				"--tb=short"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared",
				"showReuseMessage": false,
				"clear": true
			},
			"problemMatcher": "$python"
		},
		{
			"label": "Run All Systems Today",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"scripts/run_all_systems_today.py",
				"--parallel",
				"--save-csv"
			],
			"group": "build",
			"options": {
				"env": {
					"ENABLE_PROGRESS_EVENTS": "1",
					"COMPACT_TODAY_LOGS": "1"
				}
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			}
		},
		{
			"label": "Cache Daily Data",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"scripts/cache_daily_data.py"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared"
			}
		},
		{
			"label": "Start Streamlit UI",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"streamlit",
				"run",
				"apps/main.py"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			},
			"isBackground": true
		},
		{
			"label": "Lint & Format",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"ruff",
				"check",
				"--fix",
				"."
			],
			"group": "build",
			"dependsOrder": "sequence",
			"dependsOn": [
				"Black Format"
			],
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared"
			}
		},
		{
			"label": "Black Format",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"black",
				"."
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared"
			}
		},
		{
			"label": "Full Quality Check",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"pre_commit",
				"run",
				"--all-files"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			}
		},
		{
			"label": "Update Cache All (Serial)",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"./scripts/update_cache_all.ps1"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": "$python"
		},
		{
			"label": "Update Cache All (Parallel)",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"./scripts/update_cache_all.ps1",
				"-Parallel",
				"-Workers",
				"4"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": "$python"
		},
		{
			"label": "Build Rolling Only",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"scripts/build_rolling_with_indicators.py",
				"--workers",
				"4"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared"
			}
		},
		{
			"label": "Bulk Update (Small Sample)",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"scripts/update_from_bulk_last_day.py",
				"--max-symbols",
				"5"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared"
			}
		},
		{
			"label": "Today Signals UI (Compact)",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"scripts/run_today_ui.py",
				"--compact",
				"--app",
				"apps/app_today_signals.py"
			],
			"isBackground": true,
			"group": "build"
		},
		{
			"label": "Safe: Quick Test Run",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/safe_exec.ps1",
				"${config:python.defaultInterpreterPath}",
				"-m",
				"pytest",
				"-q",
				"--tb=short"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared",
				"showReuseMessage": false,
				"clear": true
			},
			"problemMatcher": "$python"
		},
		{
			"label": "Safe: Run All Systems Today",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/safe_exec.ps1",
				"${config:python.defaultInterpreterPath}",
				"scripts/run_all_systems_today.py",
				"--parallel",
				"--save-csv"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			}
		},
		{
			"label": "Safe: Lint & Format",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/safe_exec.ps1",
				"${config:python.defaultInterpreterPath}",
				"-m",
				"ruff",
				"check",
				"--fix",
				"."
			],
			"group": "build",
			"dependsOrder": "sequence",
			"dependsOn": [
				"Safe: Black Format"
			],
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared"
			}
		},
		{
			"label": "Safe: Black Format",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/safe_exec.ps1",
				"${config:python.defaultInterpreterPath}",
				"-m",
				"black",
				"."
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared"
			}
		},
		{
			"label": "Safe: Today Signals UI (Compact)",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/safe_exec.ps1",
				"${config:python.defaultInterpreterPath}",
				"scripts/run_today_ui.py",
				"--compact",
				"--app",
				"apps/app_today_signals.py"
			],
			"isBackground": true,
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			}
		},
		{
			"label": "Safe: Capture UI Progress (Headed Dark)",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/safe_exec.ps1",
				"${config:python.defaultInterpreterPath}",
				"scripts/capture_ui_progress.py",
				"--headed",
				"--dark",
				"--url",
				"http://localhost:8501"
			],
			"options": {
				"env": {
					"ENABLE_PROGRESS_EVENTS": "1",
					"PLAYWRIGHT_HEADFUL": "1",
					"PLAYWRIGHT_DARK": "1"
				}
			},
			"isBackground": true,
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			}
		},
		{
			"label": "Analyze Progress Sync",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"tools/sync_analysis.py"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared",
				"clear": true
			}
		},
		{
			"label": "E2E: Run All Tests",
			"type": "shell",
			"command": "npm",
			"args": [
				"test"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated",
				"clear": true
			},
			"problemMatcher": []
		},
		{
			"label": "E2E: Run Tests (Headed)",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:headed"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "E2E: Interactive UI",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:ui"
			],
			"group": "test",
			"isBackground": true,
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "E2E: Show Report",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:report"
			],
			"group": "test",
			"isBackground": true,
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "E2E: Quick Test (Chromium Only)",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"test:quick"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "Lint & Format (single run now)",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"ruff",
				"check",
				"--fix",
				"."
			]
		},
		{
			"label": "Lint & Quick Syntax Check (capture_ui_progress)",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"ruff",
				"check",
				"--select",
				"E,F",
				"scripts/capture_ui_progress.py"
			]
		},
		{
			"label": "Quick Test Run",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"pytest",
				"-q",
				"--tb=short"
			],
			"group": "test"
		},
		{
			"label": "Lint & Quick Syntax Check (capture_ui_progress)",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"ruff",
				"check",
				"--select",
				"E,F",
				"scripts/capture_ui_progress.py"
			]
		},
		{
			"label": "Lint & Quick Syntax Check (capture_ui_progress)",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"-m",
				"ruff",
				"check",
				"--select",
				"E,F",
				"scripts/capture_ui_progress.py"
			]
		},
		{
			"label": "Run Sync Analysis",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"tools/sync_analysis.py"
			],
			"isBackground": false,
			"group": "test"
		},
		{
			"label": "List Latest Signals",
			"type": "shell",
			"command": "${config:python.defaultInterpreterPath}",
			"args": [
				"tools/list_latest_signals.py",
				"--latest",
				"3"
			],
			"group": "test"
		}
	]
}