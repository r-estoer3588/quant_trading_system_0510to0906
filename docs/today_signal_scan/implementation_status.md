# å®Ÿè£…çŠ¶æ³ãƒãƒˆãƒªã‚¯ã‚¹ (2025 å¹´ 10 æœˆ 10 æ—¥æ›´æ–°)

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€å½“æ—¥ã‚·ã‚°ãƒŠãƒ«ã‚¹ã‚­ãƒ£ãƒ³ã®å„ãƒ•ã‚§ãƒ¼ã‚ºã«ãŠã‘ã‚‹ã€Œãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¨˜è¼‰ã€ã¨ã€Œå®Ÿè£…çŠ¶æ³ã€ã‚’ä¸€è¦§åŒ–ã—ã€ã‚®ãƒ£ãƒƒãƒ—ã‚’æ˜ç¢ºã«ã—ã¾ã™ã€‚

## ç›®çš„

- æ–‡æ›¸ã¨å®Ÿè£…ã®ä¸ä¸€è‡´ã‚’å¯è¦–åŒ–ã™ã‚‹
- æœªå®Ÿè£…æ©Ÿèƒ½ã‚’æ˜ç¢ºã«ã™ã‚‹
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚„æ–°è¦å®Ÿè£…ã®å„ªå…ˆé †ä½ã‚’æ±ºå®šã™ã‚‹

## æ›´æ–°å±¥æ­´

- **2025 å¹´ 10 æœˆ 10 æ—¥**: Phase 3ï¼ˆå…±æœ‰æŒ‡æ¨™è¨ˆç®—ï¼‰ã‚’å‰Šé™¤ã€‚äº‹å‰è¨ˆç®—æ¸ˆã¿ã®ãŸã‚å½“æ—¥ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã¯ä¸è¦ã€‚Phase 4-8 ã‚’ Phase 3-7 ã«ç¹°ã‚Šä¸Šã’ã€‚
- **2025 å¹´ 10 æœˆ 10 æ—¥**: System4-6 ã® Diagnostics API ã‚’å®Œå…¨å®Ÿè£…æ¸ˆã¿ã¨ç¢ºèªãƒ»ä¿®æ­£ã€‚

---

## å…¨ä½“å®Ÿè£…çŠ¶æ³ã‚µãƒãƒªãƒ¼

| ã‚·ã‚¹ãƒ†ãƒ  | batch_processing | Diagnostics API | ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | ç·åˆè©•ä¾¡         |
| -------- | ---------------- | --------------- | ---------------- | ---------------- |
| System1  | âœ…               | âœ…              | â­• (å¤šæ•°)        | è‰¯å¥½             |
| System2  | âœ…               | âœ…              | â­• (å¤šæ•°)        | è‰¯å¥½             |
| System3  | âœ…               | âœ…              | âœ… (å……å®Ÿ)        | å„ªç§€             |
| System4  | âœ…               | âœ…              | âœ… (å……å®Ÿ)        | å„ªç§€             |
| System5  | âœ…               | âœ…              | âœ… (å……å®Ÿ)        | å„ªç§€             |
| System6  | âœ…               | âœ…              | â­• (ä¸­ç¨‹åº¦)      | è‰¯å¥½             |
| System7  | âŒ               | âœ…              | â­• (ä¸­ç¨‹åº¦)      | ç‰¹æ®Šï¼ˆSPY å›ºå®šï¼‰ |

**å‡¡ä¾‹**:

- âœ…: å®Œå…¨å®Ÿè£…
- â­•: éƒ¨åˆ†å®Ÿè£…ã¾ãŸã¯æœ€å°é™ã®å®Ÿè£…
- âš ï¸: å®Ÿè£…ã‚ã‚‹ãŒä¸å®Œå…¨
- âŒ: æœªå®Ÿè£…ã¾ãŸã¯éå¯¾å¿œ
- ğŸ”§: è¦ä¿®æ­£ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¿…è¦

---

## ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥å®Ÿè£…çŠ¶æ³

### Phase 0: ã‚·ãƒ³ãƒœãƒ«èª­ã¿è¾¼ã¿

| é …ç›®                            | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å®Ÿè£… | ã‚®ãƒ£ãƒƒãƒ— |
| ------------------------------- | ------------ | ---- | -------- |
| `data/tradelist.txt` èª­ã¿è¾¼ã¿   | âœ…           | âœ…   | ãªã—     |
| ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ                | âœ…           | âœ…   | ãªã—     |
| `--test-mode mini/quick/sample` | âœ…           | âœ…   | ãªã—     |
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°              | âœ…           | âœ…   | ãªã—     |

**çŠ¶æ…‹**: âœ… å®Œå…¨å®Ÿè£…

---

### Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰

| é …ç›®                               | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å®Ÿè£… | ã‚®ãƒ£ãƒƒãƒ— |
| ---------------------------------- | ------------ | ---- | -------- |
| `CacheManager` çµŒç”±ãƒ­ãƒ¼ãƒ‰          | âœ…           | âœ…   | ãªã—     |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥éšå±¤ (rollingâ†’baseâ†’full) | âœ…           | âœ…   | ãªã—     |
| Feather/CSV ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ   | âœ…           | âœ…   | ãªã—     |
| ä¸¦åˆ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œ                     | âœ…           | âœ…   | ãªã—     |
| ã‚¨ãƒ©ãƒ¼éŠ˜æŸ„ã®ã‚¹ã‚­ãƒƒãƒ—               | âœ…           | âœ…   | ãªã—     |

**çŠ¶æ…‹**: âœ… å®Œå…¨å®Ÿè£…

---

### Phase 2: Filter åˆ—ç”Ÿæˆï¼ˆTwo-Phase 1 æ®µéšç›®ï¼‰

| é …ç›®                           | System1 | System2 | System3 | System4 | System5 | System6 | System7 | ã‚®ãƒ£ãƒƒãƒ—      |
| ------------------------------ | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------------- |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¨˜è¼‰               | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | -             |
| `common/today_filters.py` å®Ÿè£… | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | ãªã—          |
| Filter åˆ—ã®ä¿å­˜                | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | ãªã—          |
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°             | â­•      | â­•      | â­•      | â­•      | â­•      | â­•      | â­•      | ğŸ”§ çµ±ä¸€ãŒå¿…è¦ |

**çŠ¶æ…‹**: âœ… åŸºæœ¬å®Ÿè£…å®Œäº†ã€ğŸ”§ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€ãŒèª²é¡Œ

**å•é¡Œç‚¹**:

- ãƒ­ã‚°å‡ºåŠ›æ–¹æ³•ãŒä¸çµ±ä¸€ï¼ˆlogger.error / log_callback / print ã®æ··åœ¨ï¼‰
- ã‚¨ãƒ©ãƒ¼æ™‚ã®å‹•ä½œãŒæš—é»™çš„ï¼ˆä¸€éƒ¨ã¯ã‚¹ã‚­ãƒƒãƒ—ã€ä¸€éƒ¨ã¯ä¾‹å¤–é€å‡ºï¼‰

> **æ—§ Phase 3ï¼ˆå…±æœ‰æŒ‡æ¨™è¨ˆç®—ï¼‰**: å‰Šé™¤æ¸ˆã¿ã€‚æŒ‡æ¨™ã¯ `scripts/build_rolling_with_indicators.py` ã§äº‹å‰è¨ˆç®—ã•ã‚Œã€rolling ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚

---

### Phase 3: Setup åˆ—ç”Ÿæˆï¼ˆTwo-Phase 2 æ®µéšç›®ï¼‰

| é …ç›®                                | System1 | System2 | System3 | System4 | System5 | System6 | System7 | ã‚®ãƒ£ãƒƒãƒ— |
| ----------------------------------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | -------- |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¨˜è¼‰                    | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | -        |
| `common/system_setup_predicates.py` | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | ãªã—     |
| Setup predicate é–¢æ•°                | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | ãªã—     |
| Setup åˆ—ã¨ predicate ä¸€è‡´æ¤œè¨¼       | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | ãªã—     |
| `VALIDATE_SETUP_PREDICATE` å¯¾å¿œ     | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | âœ…      | ãªã—     |

**çŠ¶æ…‹**: âœ… å®Œå…¨å®Ÿè£…

**æ³¨æ„ç‚¹**:

- ç’°å¢ƒå¤‰æ•° `VALIDATE_SETUP_PREDICATE=1` ã§ Setup åˆ—ã¨ predicate é–¢æ•°ã®å·®åˆ†ã‚’æ¤œå‡ºå¯èƒ½
- æ¤œè¨¼çµæœã¯ `logs/` ã«å‡ºåŠ›ã•ã‚Œã‚‹

---

### Phase 4: ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°

| é …ç›®                                   | System1 | System2 | System3  | System4 | System5 | System6  | System7 | ã‚®ãƒ£ãƒƒãƒ— |
| -------------------------------------- | ------- | ------- | -------- | ------- | ------- | -------- | ------- | -------- |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¨˜è¼‰                       | âœ…      | âœ…      | âœ…       | âœ…      | âœ…      | âœ…       | âœ…      | -        |
| `core/systemX.py::generate_candidates` | âœ…      | âœ…      | âœ…       | âœ…      | âœ…      | âœ…       | âœ…      | ãªã—     |
| ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚­ãƒ¼                         | ROC200  | ADX7    | 3 æ—¥ä¸‹è½ | RSI4    | ADX7    | 6 æ—¥ä¸Šæ˜‡ | N/A     | ãªã—     |
| `latest_only=True` æœ€é©åŒ–              | âœ…      | âœ…      | âœ…       | âœ…      | âœ…      | âœ…       | âœ…      | ãªã—     |
| Diagnostics API (3 ã‚­ãƒ¼)               | âœ…      | âœ…      | âœ…       | âœ…      | âœ…      | âœ…       | âœ…      | ãªã—     |

**çŠ¶æ…‹**: âœ… **å®Œå…¨å®Ÿè£…ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥ æ¤œè¨¼å®Œäº†ï¼‰**

**Diagnostics API ã®å¿…é ˆã‚­ãƒ¼**:

- `ranking_source`: "latest_only" | "full_scan" | None
- `setup_predicate_count`: Setup æ¡ä»¶ã‚’æº€ãŸã—ãŸéŠ˜æŸ„æ•°
- `ranked_top_n_count`: æœ€çµ‚çš„ã«ãƒ©ãƒ³ã‚­ãƒ³ã‚°ä¸Šä½ã«æ®‹ã£ãŸéŠ˜æŸ„æ•°

**æ¤œè¨¼çµæœ**:

- System1-7 ã®ã™ã¹ã¦ã§ 3 ã‚­ãƒ¼ã‚’æ­£ã—ãå®Ÿè£…æ¸ˆã¿
- System4: `core/system4.py` (L187-190, L275-276, L340, L384-389)
- System5: `core/system5.py` (L204-207, L291-292, L355, L398-403)
- System6: `core/system6.py` (L253-256, L307, L414-415, L520, L645-652)

---

### Phase 5: æœ€çµ‚é…åˆ†

| é …ç›®                                            | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å®Ÿè£… | ã‚®ãƒ£ãƒƒãƒ—   |
| ----------------------------------------------- | ------------ | ---- | ---------- |
| `core/final_allocation.py::finalize_allocation` | âœ…           | âœ…   | ãªã—       |
| ã‚¹ãƒ­ãƒƒãƒˆ/é‡‘é¡åˆ¶ã®çµ±åˆ                           | âœ…           | âœ…   | ãªã—       |
| `data/symbol_system_map.json` å‚ç…§              | âœ…           | âœ…   | ãªã—       |
| Long/Short ãƒã‚±ãƒ„åˆ¥é…åˆ†                         | âœ…           | âœ…   | ãªã—       |
| ATR ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚º                    | âœ…           | âœ…   | ãªã—       |
| `DEFAULT_ALLOCATIONS` ã®ä¿è­·                    | âœ…           | âœ…   | ãªã—       |
| **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã®å–å¾—**                        | âœ… (è¨˜è¼‰)    | âš ï¸   | **æœªå®Ÿè£…** |

**çŠ¶æ…‹**: â­• åŸºæœ¬å®Ÿè£…å®Œäº†ã€âš ï¸ **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼å–å¾—ãŒæœªå®Ÿè£…**

**æœªå®Ÿè£…ã®è©³ç´°**:
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ `docs/today_signal_scan/phase_06_final_allocation.md` ã«ã¯ä»¥ä¸‹ã®è¨˜è¼‰ãŒã‚ã‚‹ãŒã€å®Ÿè£…ãŒä¸å®Œå…¨ï¼š

```markdown
## ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã®å–å¾—

- TRDlist ãŒç”Ÿæˆã•ã‚ŒãŸå¾Œã€å®Ÿéš›ã®æ³¨æ–‡ã‚’å‡ºã™å‰ã«ã€Œã©ã®ä¾¡æ ¼ã§ç´„å®šã™ã‚‹ã‹ã€ãŒé‡è¦
- å½“æ—¥çµ‚å€¤ãŒç¢ºå®šã—ã¦ã„ãªã„å ´åˆã€æ¬¡ã®å–å¼•æ—¥ã®å§‹å€¤ã‚’ä½¿ç”¨
```

**ç¾çŠ¶**:

- `final_allocation.py` ã¯ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºã¨é…åˆ†ã‚’æ±ºå®šã™ã‚‹ãŒã€ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã¯åˆ¥é€”å–å¾—ãŒå¿…è¦
- å®Ÿéš›ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã¯ `common/alpaca_order.py` ã‚„å–å¼•å®Ÿè¡Œæ™‚ã«æ±ºå®šã•ã‚Œã‚‹
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨å®Ÿè£…ã®æ•´åˆæ€§ãŒå–ã‚Œã¦ã„ãªã„

**å¯¾å¿œæ¡ˆ**:

1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä¿®æ­£ã—ã€ã€Œã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã¯å–å¼•å®Ÿè¡Œæ™‚ã«æ±ºå®šã€ã¨æ˜è¨˜
2. ã¾ãŸã¯ã€TRDlist ã«æ¨å®šã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã‚’è¿½åŠ ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…

---

### Phase 6: ä¿å­˜ãƒ»é€šçŸ¥

| é …ç›®                                           | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å®Ÿè£… | ã‚®ãƒ£ãƒƒãƒ— |
| ---------------------------------------------- | ------------ | ---- | -------- |
| CSV å‡ºåŠ› (`results_csv/`)                      | âœ…           | âœ…   | ãªã—     |
| ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰æ™‚ã®åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª                 | âœ…           | âœ…   | ãªã—     |
| Slack é€šçŸ¥                                     | âœ…           | âœ…   | ãªã—     |
| Discord é€šçŸ¥                                   | âœ…           | âœ…   | ãªã—     |
| é€²æ—ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚° (`logs/progress_today.jsonl`) | âœ…           | âœ…   | ãªã—     |
| Streamlit UI ã¸ã®é€šçŸ¥                          | âœ…           | âœ…   | ãªã—     |

**çŠ¶æ…‹**: âœ… å®Œå…¨å®Ÿè£…

---

## è¿½åŠ ã®å®Ÿè£…çŠ¶æ³

### batch_processing çµ±åˆçŠ¶æ³

| ã‚·ã‚¹ãƒ†ãƒ  | `batch_processing` ä½¿ç”¨ | ä¸¦åˆ—å‡¦ç† | çŠ¶æ…‹               |
| -------- | ----------------------- | -------- | ------------------ |
| System1  | âœ…                      | âœ…       | å®Œå…¨çµ±åˆ           |
| System2  | âœ…                      | âœ…       | å®Œå…¨çµ±åˆ           |
| System3  | âœ…                      | âœ…       | å®Œå…¨çµ±åˆ           |
| System4  | âœ…                      | âœ…       | å®Œå…¨çµ±åˆ           |
| System5  | âœ…                      | âœ…       | å®Œå…¨çµ±åˆ           |
| System6  | âœ…                      | âœ…       | å®Œå…¨çµ±åˆ           |
| System7  | âŒ                      | N/A      | SPY å›ºå®šã®ãŸã‚ä¸è¦ |

**çŠ¶æ…‹**: âœ… System1-6 ã¯å®Œå…¨çµ±åˆã€System7 ã¯ä»•æ§˜ä¸Šä¸è¦

---

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

| ã‚·ã‚¹ãƒ†ãƒ  | åŸºæœ¬ãƒ†ã‚¹ãƒˆ | enhanced | direct | latest_only_parity | strategy | è©•ä¾¡          |
| -------- | ---------- | -------- | ------ | ------------------ | -------- | ------------- |
| System1  | âœ…         | âœ…       | âœ…     | âœ…                 | âœ…       | â­•â­•â­•â­• å……å®Ÿ |
| System2  | âœ…         | âœ…       | âœ…     | âœ…                 | âœ…       | â­•â­•â­•â­• å……å®Ÿ |
| System3  | âœ…         | âœ…       | âœ…     | âœ…                 | âŒ       | â­•â­•â­• è‰¯å¥½   |
| System4  | âŒ         | âŒ       | âœ…     | âœ…                 | âŒ       | â­•â­• ä¸­ç¨‹åº¦   |
| System5  | âœ…         | âœ…       | âœ…     | âœ…                 | âŒ       | â­•â­•â­• è‰¯å¥½   |
| System6  | âœ…         | âŒ       | âŒ     | âœ…                 | âŒ       | â­• æœ€å°é™     |
| System7  | âœ…         | âŒ       | âœ…     | âœ…                 | âŒ       | â­•â­• ä¸­ç¨‹åº¦   |

**çŠ¶æ…‹**: âš ï¸ **System4, 6 ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä¸è¶³**

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§**:

**System1**:

- `test_system1.py`, `test_system1_core.py`
- `test_system1_enhanced.py`
- `test_system1_direct.py`
- `test_system1_latest_only_parity.py`
- `test_system1_strategy.py`
- `test_system1_working.py`

**System2**:

- `test_system2.py`
- `test_system2_enhanced.py`
- `test_system2_direct.py`
- `test_system2_latest_only_parity.py`
- `test_system2_strategy.py`
- `test_system2_partial.py`

**System3**:

- `test_system3_enhanced.py`
- `test_system3_direct.py`
- `test_system3_latest_only_parity.py`
- `test_system3_partial.py`
- `test_system3.py.disabled` (ç„¡åŠ¹åŒ–)

**System4**:

- `test_system4_direct.py`
- `test_system4_latest_only_parity.py`
- `test_system4_enhanced.py` âœ… **æ–°è¦ä½œæˆï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥ï¼‰**
- `test_system4.py.disabled` (ç„¡åŠ¹åŒ–)

**System5**:

- `test_system5.py`
- `test_system5_direct.py`
- `test_system5_latest_only_parity.py`
- `test_system5_old.py`, `test_system5_old.py.disabled`

**System6**:

- `test_system6.py`
- `test_system6_latest_only_parity.py`

**System7**:

- `test_system7.py`
- `test_system7_direct.py`
- `test_system7_latest_only_parity.py`
- `test_system7_partial.py`
- `test_system7_max70_optimization.py`

---

### ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†çŠ¶æ³

| é …ç›®                                                     | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å®Ÿè£… | ã‚®ãƒ£ãƒƒãƒ— |
| -------------------------------------------------------- | ------------ | ---- | -------- |
| ç’°å¢ƒå¤‰æ•°ä¸€è¦§ (`docs/technical/environment_variables.md`) | âœ…           | -    | ãªã—     |
| çµ±ä¸€ç®¡ç†ã‚¯ãƒ©ã‚¹ (`config/environment.py`)                 | âœ…           | âœ…   | ãªã—     |
| `EnvironmentConfig` dataclass                            | âœ…           | âœ…   | ãªã—     |
| å‹å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹                                         | âœ…           | âœ…   | ãªã—     |
| ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½                                       | âœ…           | âœ…   | ãªã—     |
| ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³                                     | âœ…           | âœ…   | ãªã—     |

**çŠ¶æ…‹**: âœ… å®Œå…¨å®Ÿè£…ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥ã«å®Œäº†ï¼‰

**å¯¾å¿œç’°å¢ƒå¤‰æ•°æ•°**: 40+ å€‹

---

## é‡å¤§ãªã‚®ãƒ£ãƒƒãƒ—ãƒ»æœªå®Ÿè£…æ©Ÿèƒ½

### ğŸ”´ å„ªå…ˆåº¦: é«˜

1. ~~**Phase 3ï¼ˆå…±æœ‰æŒ‡æ¨™è¨ˆç®—ï¼‰ã®æ‰±ã„**~~ âœ… **è§£æ±ºå®Œäº†ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥ï¼‰**

   - ~~ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã‚ã‚Šã€å®Ÿè³ªæœªä½¿ç”¨~~
   - **å¯¾å¿œæ¸ˆã¿**: Phase 3 ã‚’å‰Šé™¤ã—ã€Phase 4-8 ã‚’ Phase 3-7 ã«ç¹°ã‚Šä¸Šã’ã€‚äº‹å‰è¨ˆç®—ã«ã¤ã„ã¦æ³¨è¨˜ã‚’è¿½åŠ ã€‚

2. ~~**Diagnostics API ã®å®Œå…¨çµ±ä¸€ï¼ˆSystem4-6ï¼‰**~~ âœ… **æ¤œè¨¼å®Œäº†ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥ï¼‰**

   - ~~System4-6 ã§å¿…é ˆ 3 ã‚­ãƒ¼ã®å®Ÿè£…ãŒä¸å®Œå…¨~~
   - **æ¤œè¨¼çµæœ**: System4-6 ã¯æ—¢ã«å®Œå…¨å®Ÿè£…æ¸ˆã¿ï¼ˆ`ranking_source`, `setup_predicate_count`, `ranked_top_n_count` ã™ã¹ã¦å«ã‚€ï¼‰
   - ã‚³ãƒ¼ãƒ‰ç¢ºèª: `core/system4.py` (L187-190, L275-276, L340, L384-389)
   - ã‚³ãƒ¼ãƒ‰ç¢ºèª: `core/system5.py` (L204-207, L291-292, L355, L398-403)
   - ã‚³ãƒ¼ãƒ‰ç¢ºèª: `core/system6.py` (L253-256, L307, L414-415, L520, L645-652)

3. ~~**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä¸çµ±ä¸€**~~ âœ… **åŸºç¤å®Œäº†ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥ï¼‰**
   - ~~`logger.error` / `log_callback` / `print` ãŒæ··åœ¨~~
   - **å¯¾å¿œæ¸ˆã¿**: çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆ`common/error_handling.py`ï¼‰ã¨çµ±ä¸€ãƒ­ã‚¬ãƒ¼ï¼ˆ`common/logging_utils.py::SystemLogger`ï¼‰ã‚’å®Ÿè£…
   - **æ®‹èª²é¡Œ**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç§»è¡Œï¼ˆå¾ã€…ã«é©ç”¨ï¼‰

### ğŸŸ¡ å„ªå…ˆåº¦: ä¸­

4. **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼å–å¾—ã®æ˜ç¢ºåŒ–**

   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã‚ã‚Šã€å®Ÿè£…ãŒä¸æ˜ç¢º
   - **å¯¾å¿œ**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¿®æ­£ã¾ãŸã¯æ©Ÿèƒ½å®Ÿè£…

5. ~~**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®æ‹¡å……ï¼ˆSystem4, 5, 6ï¼‰**~~ âœ… **System4, System5 å®Œäº†ï¼ˆ2025 å¹´ 10 æœˆ 10-11 æ—¥ï¼‰**
   - **System4**: `tests/test_system4_enhanced.py` ã‚’ä½œæˆï¼ˆ12 ãƒ†ã‚¹ãƒˆã€ã‚«ãƒãƒ¬ãƒƒã‚¸ 96%ï¼‰
     - prepare_data_vectorized (fast path/normal path)
     - generate_candidates (latest_only/full_scan, diagnostics, ranking order)
     - get_total_days
     - edge cases (missing indicators, NaN values)
   - **System5**: `tests/test_system5_enhanced.py` ã‚’ä½œæˆï¼ˆ16 ãƒ†ã‚¹ãƒˆã€ã‚«ãƒãƒ¬ãƒƒã‚¸ 58%ï¼‰
     - prepare_data_vectorized (fast path/normal path/empty/None input)
     - generate_candidates (basic/latest_only/diagnostics/ranking order/missing indicators)
     - get_total_days, format_atr_pct_threshold_label
     - edge cases (NaN values, all false setup)
   - **System6**: ãƒ†ã‚¹ãƒˆæ‹¡å……ãŒæ®‹èª²é¡Œ

### ğŸŸ¢ å„ªå…ˆåº¦: ä½

6. ~~**ãƒãƒƒãƒå‡¦ç†ã®çµ±ä¸€**~~ âœ… **å®Œäº†ï¼ˆ2025 å¹´ 10 æœˆ 11 æ—¥ç¢ºèªï¼‰**

   - **å®Ÿè£…çŠ¶æ³**: å…¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆSystem1-7ï¼‰ãŒ `common/batch_processing.py` ã‚’çµ±ä¸€åˆ©ç”¨
   - **æ©Ÿèƒ½**:
     - `process_symbols_batch()`: ã‚·ãƒ³ãƒœãƒ«ãƒªã‚¹ãƒˆã®ãƒãƒƒãƒå‡¦ç†ï¼ˆãƒ—ãƒ­ã‚»ã‚¹ãƒ—ãƒ¼ãƒ«/ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«å¯¾å¿œï¼‰
     - çµ±ä¸€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: `batch_size`, `use_process_pool`, `max_workers`, `progress_callback`, `log_callback`, `skip_callback`, `system_name`
     - è‡ªå‹•ãƒãƒƒãƒã‚µã‚¤ã‚ºèª¿æ•´: `resolve_batch_size()` ã§ãƒ¡ãƒ¢ãƒªåŠ¹ç‡æœ€é©åŒ–
     - ã‚¨ãƒ©ãƒ¼é›†è¨ˆ: `aggregate_errors()` ã§ã‚¨ãƒ©ãƒ¼ã‚·ãƒ³ãƒœãƒ«ã®ã‚µãƒãƒªç”Ÿæˆ
   - **ã‚³ãƒ¼ãƒ‰å‚ç…§**:
     - `common/batch_processing.py` (246 è¡Œ): ãƒãƒƒãƒå‡¦ç†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
     - `core/system1.py` (L439-452): System1 ã§ã®åˆ©ç”¨ä¾‹
     - `core/system2.py` (L144-157): System2 ã§ã®åˆ©ç”¨ä¾‹
     - `core/system4.py` (L139-152): System4 ã§ã®åˆ©ç”¨ä¾‹
     - `core/system5.py` (L155-168): System5 ã§ã®åˆ©ç”¨ä¾‹
   - **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ—ãƒ­ã‚»ã‚¹ãƒ—ãƒ¼ãƒ«ä½¿ç”¨æ™‚ã¯ CPU ã‚³ã‚¢æ•°ã«åŸºã¥ãæœ€é©ãƒ¯ãƒ¼ã‚«ãƒ¼æ•°ã‚’è‡ªå‹•è¨­å®š

7. ~~**TRDlist ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼**~~ âœ… **å®Œäº†ï¼ˆ2025 å¹´ 10 æœˆ 11 æ—¥ï¼‰**

   - ~~setup/filter æ•´åˆæ€§ã€é‡è¤‡éŠ˜æŸ„ã€ç•°å¸¸å€¤ãƒã‚§ãƒƒã‚¯~~
   - **å®Ÿè£…å®Œäº†**: `common/trdlist_validator.py` (403 è¡Œ)
   - **æ©Ÿèƒ½**:
     - `validate_trd_frame()`: å¿…é ˆåˆ—ãƒã‚§ãƒƒã‚¯ã€é‡è¤‡(symbol,system)æ¤œå‡ºã€ä¾¡æ ¼/shares ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
     - `summarize_trd_frame()`: è»½é‡ã‚µãƒãƒªç”Ÿæˆï¼ˆè¡Œæ•°ã€ä¸€æ„éŠ˜æŸ„æ•°ã€side/system åˆ¥ä»¶æ•°ï¼‰
     - `build_validation_report()`: æœ€çµ‚å‡ºåŠ›ã¨ã‚·ã‚¹ãƒ†ãƒ åˆ¥å‡ºåŠ›ã®çµ±åˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
   - **ãƒ†ã‚¹ãƒˆ**: `tests/test_trdlist_validator.py` (18 ãƒ†ã‚¹ãƒˆã€100% ã‚«ãƒãƒ¬ãƒƒã‚¸)
   - **å®Ÿæˆ¦ä½¿ç”¨**: `scripts/run_all_systems_today.py` ãŒ `results_csv*/validation/validation_report_*.json` ã«å‡ºåŠ›

8. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šã®æ‹¡å……**
   - ç¾åœ¨ã¯å‡¦ç†æ™‚é–“ã®ã¿
   - **å¯¾å¿œ**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã€ãƒ‡ã‚£ã‚¹ã‚¯ I/Oã€CPU ä½¿ç”¨ç‡ã®æ¸¬å®š

---

## æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³

### çŸ­æœŸï¼ˆå®Œäº†æ¸ˆã¿ï¼‰

1. âœ… **Phase 1**: ç’°å¢ƒå¤‰æ•°ã®æ•´ç†ã¨æ–‡æ›¸åŒ–ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥å®Œäº†ï¼‰
2. âœ… **Phase 2**: å®Ÿè£…çŠ¶æ³ãƒãƒˆãƒªã‚¯ã‚¹ã®ä½œæˆï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥å®Œäº†ï¼‰
3. âœ… **Phase 3 åˆ¤æ–­**: å…±æœ‰æŒ‡æ¨™è¨ˆç®—ãƒ•ã‚§ãƒ¼ã‚ºã®å‰Šé™¤ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥å®Œäº†ï¼‰
4. âœ… **System4-6 Diagnostics API æ¤œè¨¼**: å®Œå…¨å®Ÿè£…æ¸ˆã¿ã‚’ç¢ºèªï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥å®Œäº†ï¼‰
5. âœ… **Phase 3.1**: çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å°å…¥ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥å®Œäº†ï¼‰
6. âœ… **Phase 3.2**: çµ±ä¸€ãƒ­ã‚¬ãƒ¼ã®å®Ÿè£…ï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥å®Œäº†ï¼‰
7. âœ… **System4 ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸æ‹¡å……**: enhanced ãƒ†ã‚¹ãƒˆã®ä½œæˆï¼ˆ2025 å¹´ 10 æœˆ 10 æ—¥å®Œäº†ï¼‰
8. âœ… **TRDlist ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼å®Ÿè£…**: `common/trdlist_validator.py` + ãƒ†ã‚¹ãƒˆï¼ˆ2025 å¹´ 10 æœˆ 11 æ—¥å®Œäº†ï¼‰
9. âœ… **ãƒãƒƒãƒå‡¦ç†ã®çµ±ä¸€**: `common/batch_processing.py` å…¨ã‚·ã‚¹ãƒ†ãƒ é©ç”¨ï¼ˆ2025 å¹´ 10 æœˆ 11 æ—¥ç¢ºèªï¼‰

### ä¸­æœŸï¼ˆ1-2 é€±é–“ï¼‰

10. ğŸ”§ **System6 ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸æ‹¡å……**: enhanced ãƒ†ã‚¹ãƒˆã®ä½œæˆ
11. ğŸ“ **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¿®æ­£**: å–å¼•å®Ÿè¡Œæ™‚æ±ºå®šã‚’æ˜è¨˜

### é•·æœŸï¼ˆ2-4 é€±é–“ï¼‰

9. ğŸ”§ **TRDlist ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼å®Ÿè£…**: `common/trdlist_validator.py`
10. ğŸ“Š **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šæ‹¡å……**: ãƒ¡ãƒ¢ãƒªãƒ»I/Oãƒ»CPU ã®å¯è¦–åŒ–
11. ğŸ—ï¸ **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„**: Two-Phase çµ±ä¸€ã€ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ³ã€ãƒã‚¸ã‚·ãƒ§ãƒ³ç®¡ç†ã€ã‚·ã‚¹ãƒ†ãƒ åŸºåº•ã‚¯ãƒ©ã‚¹

---

## æ›´æ–°å±¥æ­´

- **2025 å¹´ 10 æœˆ 10 æ—¥**: åˆç‰ˆä½œæˆã€‚Phase 0-7 ã®å®Ÿè£…çŠ¶æ³ã‚’èª¿æŸ»ã—ã€ã‚®ãƒ£ãƒƒãƒ—ã‚’æ˜ç¢ºåŒ–ã€‚
- **2025 å¹´ 10 æœˆ 10 æ—¥**: Phase 3ï¼ˆå…±æœ‰æŒ‡æ¨™ï¼‰å‰Šé™¤ã€‚Phase 4-8 ã‚’ Phase 3-7 ã«ç¹°ã‚Šä¸Šã’ã€‚System4-6 Diagnostics API å®Œå…¨å®Ÿè£…ã‚’ç¢ºèªã€‚çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒ­ã‚¬ãƒ¼å®Ÿè£…å®Œäº†ã€‚
